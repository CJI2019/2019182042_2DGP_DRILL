from pico2d import *

open_canvas()
character = load_image('iron_man.png')


frame = 0
#순서대로 나오는 애니메이션의 스프라이트 크기
statusX = [55,60,70,73,55,65,56,73,75,65,72,74,104,108,106,115,110,123,110,105,106,186
,196,110,101,104,99,92,102,76,112,81,116,83,114,88,108,

45,101,118,130,146,145,157,166,182,205,214,215,186,182,209,177,166,178,
76,48,53,65]


statusY = [53,53,87,87,68,68,68,135,135,135,101,102,102,102,90,90,90,90,90,90,90,90
,74,82,82,82,82,81,81,81,81,81,81,81,81,81,81,

95,95,95,95,95,106,106,106,99,99,113,113,113,139,139,101,101,79,
91,91,91,91]

statusCount = 0

#애니메이션 카운트
AnimCount = [4,9,9,7,5,4,5,9,7,1,4,2,2,8,3,1,3,3,1,2,1,4
,5,4,2,5,1,1,2,1,1,1,1,1,1,1,1,

1,2,1,2,4,2,2,3,1,5,3,1,2,4,2,3,4,2,

1,4,4,1]

#왼쪽 공백 공간
EmptySpaceX = [81,322,22,661,33,321,581,18,683,1215,16,20,176,391,10,333,455,792,1170,17,17,348
,22,13,453,664,1181,24,116,334,417,533,621,743,832,952,1056,

17,64,278,406,669,10,300,778,12,194,16,659,874,26,773,13,544,23,
31,107,308,517]
#아래 공백 공간
EmptySpaceY = [0,0,83,83,191,191,191,407,407,407,291,1817,1817,1817,1721,1721,1721,1721,1721,1621,1621,1621
,1520,1424,1424,1424,1424,6664,6664,6664,6664,6664,6664,6664,6664,6664,6664,

3455,3455,3455,3455,3455,3354,3354,3354,3255,3255,3131,3131,3131,2991,2991,2890,2890,2805,
6553,6553,6553,6553]

while (True):
    clear_canvas()
    
    character.clip_draw((frame * statusX[statusCount])+EmptySpaceX[statusCount], EmptySpaceY[statusCount] 
    , statusX[statusCount] , statusY[statusCount], 400, 300)

    delay(0.03)
    update_canvas()

    frame = (frame + 1) % AnimCount[statusCount]

    if frame == 0:
        statusCount += 1
        frame = 0
        if(statusCount == len(AnimCount)):
            statusCount = 0
            
    get_events()

close_canvas()